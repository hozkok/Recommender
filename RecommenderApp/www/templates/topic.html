<ion-view view-title="Topic" cache-view="false">
    <ion-nav-buttons side="right">
        <a class="button button-icon icon ion-android-person-add" ng-click="addParticipants()"></a>
    </ion-nav-buttons>
    <ion-content class="padding">
        <ion-refresher
            pulling-text="Pull to refresh the topic..."
            on-refresh="syncTopic()">
        </ion-refresher>
        <ion-list>
            <ion-item>
                <strong>What: </strong> {{topic.what}}</br>
            </ion-item>
            <ion-item>
                <strong>Where: </strong> {{topic.where}}</br>
            </ion-item>
            <ion-item>
                <strong>Description: </strong> {{topic.description}}
            </ion-item>
            <ion-item>
                <strong>Expire Date: </strong>
                {{topic.destructDate | date: 'dd MMM y' || 'N/A'}}</br>
            </ion-item>
            <ion-item>
                <strong>Responses:</strong>
                <div
                    style="padding: 5px 0 5px 0; border-top: 1px outset;"
                    ng-repeat="r in topic.responses">
                    {{r.participant.uname}} (+{{r.shareDegree }}) :
                    <p
                        class="item-text-wrap"
                        ng-bind-html="
                        r.text ||
                        (r.isCancelled ? 'cancelled.' : 'pending...')
                        | tel">
                    </p>
                </div>
            </ion-item>
        <ion-list>
        <button
            class="button button-full button-assertive"
            ng-click="deleteTopic()">
            Delete Topic
        </button>
    </ion-content>
</ion-view>
